{"version":3,"file":"taiga-ui-experimental-components-checkbox.umd.js","sources":["../../../projects/experimental/components/checkbox/checkbox.options.ts","../../../projects/experimental/components/checkbox/checkbox.component.ts","../../../projects/experimental/components/checkbox/checkbox.module.ts","../../../projects/experimental/components/checkbox/taiga-ui-experimental-components-checkbox.ts"],"sourcesContent":["import {Provider} from '@angular/core';\nimport {tuiCreateToken, TuiMapper, tuiProvideOptions} from '@taiga-ui/cdk';\nimport {TuiSizeS} from '@taiga-ui/core';\n\nexport interface TuiCheckboxOptions {\n    readonly size: TuiSizeS;\n    readonly icons: Readonly<{\n        checked: TuiMapper<TuiSizeS, string> | string;\n        indeterminate: TuiMapper<TuiSizeS, string> | string;\n    }>;\n}\n\nexport const TUI_CHECKBOX_DEFAULT_OPTIONS: TuiCheckboxOptions = {\n    size: 'm',\n    icons: {\n        checked: size => (size === 'm' ? 'tuiIconCheckLarge' : 'tuiIconCheck'),\n        indeterminate: size => (size === 'm' ? 'tuiIconMinusLarge' : 'tuiIconMinus'),\n    },\n};\n\nexport const TUI_CHECKBOX_OPTIONS = tuiCreateToken(TUI_CHECKBOX_DEFAULT_OPTIONS);\n\nexport function tuiCheckboxOptionsProvider(\n    options: Partial<TuiCheckboxOptions>,\n): Provider {\n    return tuiProvideOptions(TUI_CHECKBOX_OPTIONS, options, TUI_CHECKBOX_DEFAULT_OPTIONS);\n}\n","import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    Inject,\n    Input,\n    OnInit,\n    Optional,\n    Self,\n} from '@angular/core';\nimport {NgControl, NgModel} from '@angular/forms';\nimport {\n    tuiControlValue,\n    TuiDestroyService,\n    tuiIsString,\n    TuiStringHandler,\n    tuiWatch,\n} from '@taiga-ui/cdk';\nimport {TUI_ICON_RESOLVER} from '@taiga-ui/experimental/tokens';\nimport {Observable} from 'rxjs';\nimport {distinctUntilChanged, takeUntil} from 'rxjs/operators';\n\nimport {TUI_CHECKBOX_OPTIONS, TuiCheckboxOptions} from './checkbox.options';\n\n@Component({\n    selector: 'input[type=\"checkbox\"][tuiCheckbox]',\n    template: '',\n    styleUrls: ['./checkbox.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [TuiDestroyService],\n    host: {\n        tuiAppearance: '', // Apply base appearance\n        '[disabled]': '!control || control.disabled',\n        '[attr.data-size]': 'size',\n        '[class._invalid]': 'control?.invalid && control?.touched',\n        '[class._readonly]': '!control',\n        '[style.--t-mask]': 'icon',\n    },\n})\nexport class TuiCheckboxComponent implements OnInit {\n    @Input()\n    size = this.options.size;\n\n    constructor(\n        @Inject(ChangeDetectorRef) private readonly cdr: ChangeDetectorRef,\n        @Inject(TUI_ICON_RESOLVER) private readonly resolver: TuiStringHandler<string>,\n        @Inject(TUI_CHECKBOX_OPTIONS) private readonly options: TuiCheckboxOptions,\n        @Self() @Inject(TuiDestroyService) private readonly destroy$: Observable<unknown>,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLInputElement>,\n        @Optional() @Inject(NgControl) readonly control: NgControl | null,\n    ) {}\n\n    get icon(): string {\n        const option = this.el.nativeElement.indeterminate\n            ? this.options.icons.indeterminate\n            : this.options.icons.checked;\n        const icon = tuiIsString(option) ? option : option(this.size);\n\n        return `url(${this.resolver(icon)})`;\n    }\n\n    ngOnInit(): void {\n        if (!this.control?.valueChanges) {\n            return;\n        }\n\n        tuiControlValue(this.control)\n            .pipe(distinctUntilChanged(), tuiWatch(this.cdr), takeUntil(this.destroy$))\n            .subscribe(value => {\n                // https://github.com/angular/angular/issues/14988\n                const fix = this.control instanceof NgModel ? this.control.model : value;\n\n                this.el.nativeElement.indeterminate = fix === null;\n            });\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiCheckboxComponent} from './checkbox.component';\n\n@NgModule({\n    declarations: [TuiCheckboxComponent],\n    exports: [TuiCheckboxComponent],\n})\nexport class TuiCheckboxModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["tuiCreateToken","tuiProvideOptions","tuiIsString","tuiControlValue","distinctUntilChanged","tuiWatch","takeUntil","NgModel","ChangeDetectorRef","TUI_ICON_RESOLVER","TuiDestroyService","ElementRef","NgControl","i0","Component","ChangeDetectionStrategy","Inject","Self","Optional","Input","NgModule"],"mappings":"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"}