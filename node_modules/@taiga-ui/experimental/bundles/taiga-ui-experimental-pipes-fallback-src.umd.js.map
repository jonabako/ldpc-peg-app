{"version":3,"file":"taiga-ui-experimental-pipes-fallback-src.umd.js","sources":["../../../projects/experimental/pipes/fallback-src/fallback-src.pipe.ts","../../../projects/experimental/pipes/fallback-src/fallback-src.module.ts","../../../projects/experimental/pipes/fallback-src/taiga-ui-experimental-pipes-fallback-src.ts"],"sourcesContent":["import {ElementRef, Inject, Pipe, PipeTransform} from '@angular/core';\nimport {TUI_ICON_ERROR} from '@taiga-ui/core';\nimport {fromEvent, merge, Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\n\n@Pipe({\n    name: 'tuiFallbackSrc',\n})\nexport class TuiFallbackSrcPipe implements PipeTransform {\n    constructor(@Inject(ElementRef) private readonly el: ElementRef<HTMLElement>) {}\n\n    transform(src: string, fallback: string): Observable<string> {\n        return merge(\n            fromEvent(this.el.nativeElement, TUI_ICON_ERROR),\n            fromEvent(this.el.nativeElement, 'error', {capture: true}),\n        ).pipe(\n            map(() => fallback),\n            startWith(src),\n        );\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiFallbackSrcPipe} from './fallback-src.pipe';\n\n@NgModule({\n    declarations: [TuiFallbackSrcPipe],\n    exports: [TuiFallbackSrcPipe],\n})\nexport class TuiFallbackSrcModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["merge","fromEvent","TUI_ICON_ERROR","map","startWith","i0","ElementRef","Pipe","Inject","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,QAAA,kBAAA,kBAAA,YAAA;IACI,IAAA,SAAA,kBAAA,CAAiD,EAA2B,EAAA;IAA3B,QAAA,IAAE,CAAA,EAAA,GAAF,EAAE,CAAyB;SAAI;IAEhF,IAAA,kBAAA,CAAA,SAAA,CAAA,SAAS,GAAT,UAAU,GAAW,EAAE,QAAgB,EAAA;YACnC,OAAOA,UAAK,CACRC,cAAS,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAEC,mBAAc,CAAC,EAChDD,cAAS,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,OAAO,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAC7D,CAAC,IAAI,CACFE,aAAG,CAAC,YAAA,EAAM,OAAA,QAAQ,CAAA,EAAA,CAAC,EACnBC,mBAAS,CAAC,GAAG,CAAC,CACjB,CAAC;SACL,CAAA;;;IAXQ,kBAAA,CAAA,IAAA,GAAAC,aAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,kBAAkB,kBACPC,aAAU,EAAA,CAAA,EAAA,MAAA,EAAAD,aAAA,CAAA,eAAA,CAAA,IAAA,EAAA,CAAA,CAAA;wIADrB,kBAAkB,EAAA,IAAA,EAAA,gBAAA,EAAA,CAAA,CAAA;sHAAlB,kBAAkB,EAAA,UAAA,EAAA,CAAA;sBAH9BE,OAAI;IAAC,YAAA,IAAA,EAAA,CAAA;IACF,oBAAA,IAAI,EAAE,gBAAgB;qBACzB,CAAA;;;kCAEgBC,SAAM;mCAACF,aAAU,CAAA;;;;ACDlC,QAAA,oBAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,oBAAA,GAAA;;;;4IAAa,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAAD,aAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;6IAApB,oBAAoB,EAAA,YAAA,EAAA,CAHd,kBAAkB,CAAA,EAAA,OAAA,EAAA,CACvB,kBAAkB,CAAA,EAAA,CAAA,CAAA;6IAEnB,oBAAoB,EAAA,CAAA,CAAA;sHAApB,oBAAoB,EAAA,UAAA,EAAA,CAAA;sBAJhCI,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACN,YAAY,EAAE,CAAC,kBAAkB,CAAC;wBAClC,OAAO,EAAE,CAAC,kBAAkB,CAAC;qBAChC,CAAA;;;ICPD;;IAEG;;;;;;;;;;;"}