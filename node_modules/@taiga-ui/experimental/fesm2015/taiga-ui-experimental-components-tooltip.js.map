{"version":3,"file":"taiga-ui-experimental-components-tooltip.js","sources":["../../../projects/experimental/components/tooltip/tooltip.options.ts","../../../projects/experimental/components/tooltip/tooltip.component.ts","../../../projects/experimental/components/tooltip/tooltip.template.html","../../../projects/experimental/components/tooltip/tooltip.module.ts","../../../projects/experimental/components/tooltip/taiga-ui-experimental-components-tooltip.ts"],"sourcesContent":["import {Provider} from '@angular/core';\nimport {tuiCreateToken, TuiPlatform, tuiProvideOptions} from '@taiga-ui/cdk';\n\nexport interface TuiTooltipOptions {\n    readonly icons: Record<TuiPlatform, string> | string;\n}\n\nexport const TUI_TOOLTIP_DEFAULT_OPTIONS: TuiTooltipOptions = {\n    icons: 'tuiIconHelpCircle',\n};\n\nexport const TUI_TOOLTIP_OPTIONS = tuiCreateToken(TUI_TOOLTIP_DEFAULT_OPTIONS);\n\nexport function tuiTooltipOptionsProvider(options: Partial<TuiTooltipOptions>): Provider {\n    return tuiProvideOptions(TUI_TOOLTIP_OPTIONS, options, TUI_TOOLTIP_DEFAULT_OPTIONS);\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    HostListener,\n    Inject,\n    Input,\n    Optional,\n    Self,\n    ViewChild,\n} from '@angular/core';\nimport {TUI_PLATFORM, TuiDestroyService, tuiIsString, TuiPlatform} from '@taiga-ui/cdk';\nimport {\n    MODE_PROVIDER,\n    TUI_HINT_OPTIONS,\n    TUI_MODE,\n    TuiBrightness,\n    TuiHintHoverDirective,\n    TuiHintOptions,\n    TuiHintOptionsDirective,\n} from '@taiga-ui/core';\nimport {TuiAppearanceDirective} from '@taiga-ui/experimental/directives/appearance';\nimport {Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {TUI_TOOLTIP_OPTIONS, TuiTooltipOptions} from './tooltip.options';\n\n// TODO: Turn into a directive with hint as hostDirective in 4.0\n\n@Component({\n    selector: 'tui-tooltip',\n    templateUrl: './tooltip.template.html',\n    styleUrls: ['./tooltip.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [TuiDestroyService, MODE_PROVIDER],\n    inputs: ['content', 'direction', 'appearance', 'showDelay', 'hideDelay'],\n})\nexport class TuiTooltipComponent<C = any> extends TuiHintOptionsDirective {\n    private mode: TuiBrightness | null = null;\n\n    @ViewChild(TuiHintHoverDirective)\n    readonly driver$?: TuiHintHoverDirective;\n\n    @Input()\n    describeId = '';\n\n    @Input()\n    context?: C;\n\n    constructor(\n        @Self() @Inject(TuiDestroyService) destroy$: Observable<unknown>,\n        @Inject(TUI_MODE) mode$: Observable<TuiBrightness | null>,\n        @Inject(TUI_HINT_OPTIONS) options: TuiHintOptions,\n        @Inject(TUI_TOOLTIP_OPTIONS) readonly tooltipOptions: TuiTooltipOptions,\n        @Inject(TUI_PLATFORM) private readonly platform: TuiPlatform,\n        @Optional()\n        @Inject(TuiAppearanceDirective)\n        readonly iconAppearance: TuiAppearanceDirective | null,\n    ) {\n        super(options);\n\n        mode$.pipe(takeUntil(destroy$)).subscribe(mode => {\n            this.mode = mode;\n        });\n    }\n\n    get computedAppearance(): string {\n        return this.appearance || this.mode || '';\n    }\n\n    get tooltipIcon(): string {\n        const {icons} = this.tooltipOptions;\n\n        return tuiIsString(icons) ? icons : icons[this.platform];\n    }\n\n    @HostListener('mousedown', ['$event'])\n    stopOnMobile(event: MouseEvent): void {\n        if (this.platform !== 'web') {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        this.driver$?.toggle();\n    }\n}\n","<button\n    #driver=\"tuiHintHover\"\n    automation-id=\"tui-tooltip__icon\"\n    size=\"xs\"\n    tuiIconButton\n    class=\"t-tooltip-button\"\n    [attr.tabindex]=\"describeId ? -1 : 0\"\n    [iconLeft]=\"tooltipIcon\"\n    [tuiAppearance]=\"iconAppearance?.tuiAppearance || 'icon'\"\n    [tuiAppearanceState]=\"(driver | async) ? 'active' : null\"\n    [tuiHint]=\"content\"\n    [tuiHintAppearance]=\"computedAppearance\"\n    [tuiHintContext]=\"context\"\n    [tuiHintDescribe]=\"describeId\"\n    [tuiHintDirection]=\"direction\"\n    [tuiHintHideDelay]=\"hideDelay\"\n    [tuiHintShowDelay]=\"showDelay\"\n></button>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiHintModule} from '@taiga-ui/core';\nimport {TuiButtonModule} from '@taiga-ui/experimental/components/button';\nimport {TuiIconModule} from '@taiga-ui/experimental/components/icon';\nimport {TuiAppearanceModule} from '@taiga-ui/experimental/directives/appearance';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiTooltipComponent} from './tooltip.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiButtonModule,\n        TuiAppearanceModule,\n        TuiHintModule,\n        TuiIconModule,\n        PolymorpheusModule,\n    ],\n    declarations: [TuiTooltipComponent],\n    exports: [TuiTooltipComponent],\n})\nexport class TuiTooltipModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}