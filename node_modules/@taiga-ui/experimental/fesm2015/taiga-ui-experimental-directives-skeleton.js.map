{"version":3,"file":"taiga-ui-experimental-directives-skeleton.js","sources":["../../../projects/experimental/directives/skeleton/skeleton.component.ts","../../../projects/experimental/directives/skeleton/skeleton.directive.ts","../../../projects/experimental/directives/skeleton/skeleton.module.ts","../../../projects/experimental/directives/skeleton/taiga-ui-experimental-directives-skeleton.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component, ViewEncapsulation} from '@angular/core';\n\n@Component({\n    template: '',\n    styleUrls: ['./skeleton.style.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        class: 'tui-skeleton-styles',\n    },\n})\nexport class TuiSkeletonComponent {}\n","import type {OnChanges, SimpleChanges} from '@angular/core';\nimport {Directive, ElementRef, Inject, Input} from '@angular/core';\nimport {CHAR_NO_BREAK_SPACE, TuiDirectiveStylesService, tuiPure} from '@taiga-ui/cdk';\nimport {TUI_ANIMATIONS_DURATION} from '@taiga-ui/core';\n\nimport {TuiSkeletonComponent} from './skeleton.component';\n\nconst FADE = [{opacity: 0.06}, {opacity: 1}];\n\n@Directive({\n    selector: '[tuiSkeleton]',\n    host: {\n        tuiSkeleton: '',\n        '[class._skeleton]': 'tuiSkeleton',\n        '[attr.data-tui-skeleton]': 'getPlaceholder(tuiSkeleton)',\n    },\n})\nexport class TuiSkeletonDirective implements OnChanges {\n    private animation?: Animation;\n\n    @Input()\n    tuiSkeleton: boolean | number | string = false;\n\n    constructor(\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n        @Inject(TUI_ANIMATIONS_DURATION) private readonly duration: number,\n        @Inject(TuiDirectiveStylesService) directiveStyles: TuiDirectiveStylesService,\n    ) {\n        directiveStyles.addComponent(TuiSkeletonComponent);\n    }\n\n    @tuiPure\n    getPlaceholder(value: boolean | number | string): string | null {\n        switch (typeof value) {\n            case 'number':\n                return Array.from({length: value})\n                    .map(() => CHAR_NO_BREAK_SPACE.repeat(getLength()))\n                    .join(' ');\n            case 'string':\n                return value;\n            default:\n                return null;\n        }\n    }\n\n    ngOnChanges({tuiSkeleton}: SimpleChanges): void {\n        this.animation?.cancel();\n\n        if (!tuiSkeleton.currentValue && !tuiSkeleton.firstChange) {\n            this.animation = this.el.nativeElement.animate(FADE, this.duration * 2);\n        }\n    }\n}\n\nfunction getLength(): number {\n    return Math.floor(Math.random() * (15 - 5 + 1)) + 5;\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiSkeletonComponent} from './skeleton.component';\nimport {TuiSkeletonDirective} from './skeleton.directive';\n\n@NgModule({\n    declarations: [TuiSkeletonComponent, TuiSkeletonDirective],\n    exports: [TuiSkeletonDirective],\n})\nexport class TuiSkeletonModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}