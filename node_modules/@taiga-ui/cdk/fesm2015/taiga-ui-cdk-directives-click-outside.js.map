{"version":3,"file":"taiga-ui-cdk-directives-click-outside.js","sources":["../../../projects/cdk/directives/click-outside/click-outside.directive.ts","../../../projects/cdk/directives/click-outside/click-outside.module.ts","../../../projects/cdk/directives/click-outside/taiga-ui-cdk-directives-click-outside.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {Directive, ElementRef, Inject, NgZone, Output} from '@angular/core';\nimport {tuiZoneOptimized} from '@taiga-ui/cdk/observables';\nimport {tuiContainsOrAfter, tuiGetActualTarget} from '@taiga-ui/cdk/utils';\nimport {fromEvent, Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\n\n@Directive({\n    selector: '[tuiClickOutside]',\n})\nexport class TuiClickOutsideDirective {\n    @Output()\n    readonly tuiClickOutside: Observable<unknown> = fromEvent(this.doc, 'mouseup').pipe(\n        map(tuiGetActualTarget),\n        filter(target => this.isOutside(target)),\n        tuiZoneOptimized(this.zone),\n    );\n\n    constructor(\n        @Inject(NgZone) private readonly zone: NgZone,\n        @Inject(DOCUMENT) private readonly doc: Document,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n    ) {}\n\n    private isOutside(target: Node): boolean {\n        return (\n            target === this.el.nativeElement ||\n            !tuiContainsOrAfter(this.el.nativeElement, target)\n        );\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiClickOutsideDirective} from './click-outside.directive';\n\n@NgModule({\n    declarations: [TuiClickOutsideDirective],\n    exports: [TuiClickOutsideDirective],\n})\nexport class TuiClickOutsideModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;MAUa,wBAAwB,CAAA;AAQjC,IAAA,WAAA,CACqC,IAAY,EACV,GAAa,EACX,EAA2B,EAAA;QAF/B,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAQ;QACV,IAAG,CAAA,GAAA,GAAH,GAAG,CAAU;QACX,IAAE,CAAA,EAAA,GAAF,EAAE,CAAyB;AAT3D,QAAA,IAAA,CAAA,eAAe,GAAwB,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,IAAI,CAC/E,GAAG,CAAC,kBAAkB,CAAC,EACvB,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EACxC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAC9B,CAAC;KAME;AAEI,IAAA,SAAS,CAAC,MAAY,EAAA;AAC1B,QAAA,QACI,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,aAAa;YAChC,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,MAAM,CAAC,EACpD;KACL;;AAnBQ,wBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,wBAAwB,EASrB,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,MAAM,EACN,EAAA,EAAA,KAAA,EAAA,QAAQ,aACR,UAAU,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;0GAXb,wBAAwB,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA,CAAA;4FAAxB,wBAAwB,EAAA,UAAA,EAAA,CAAA;kBAHpC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACP,oBAAA,QAAQ,EAAE,mBAAmB;AAChC,iBAAA,CAAA;;0BAUQ,MAAM;2BAAC,MAAM,CAAA;8BAC0B,QAAQ,EAAA,UAAA,EAAA,CAAA;0BAA/C,MAAM;2BAAC,QAAQ,CAAA;;0BACf,MAAM;2BAAC,UAAU,CAAA;4CATb,eAAe,EAAA,CAAA;sBADvB,MAAM;;;MCHE,qBAAqB,CAAA;;mHAArB,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;oHAArB,qBAAqB,EAAA,YAAA,EAAA,CAHf,wBAAwB,CAAA,EAAA,OAAA,EAAA,CAC7B,wBAAwB,CAAA,EAAA,CAAA,CAAA;oHAEzB,qBAAqB,EAAA,CAAA,CAAA;4FAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAJjC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACN,YAAY,EAAE,CAAC,wBAAwB,CAAC;oBACxC,OAAO,EAAE,CAAC,wBAAwB,CAAC;AACtC,iBAAA,CAAA;;;ACPD;;AAEG;;;;"}