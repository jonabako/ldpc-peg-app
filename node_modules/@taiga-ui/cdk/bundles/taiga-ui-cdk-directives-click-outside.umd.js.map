{"version":3,"file":"taiga-ui-cdk-directives-click-outside.umd.js","sources":["../../../projects/cdk/directives/click-outside/click-outside.directive.ts","../../../projects/cdk/directives/click-outside/click-outside.module.ts","../../../projects/cdk/directives/click-outside/taiga-ui-cdk-directives-click-outside.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {Directive, ElementRef, Inject, NgZone, Output} from '@angular/core';\nimport {tuiZoneOptimized} from '@taiga-ui/cdk/observables';\nimport {tuiContainsOrAfter, tuiGetActualTarget} from '@taiga-ui/cdk/utils';\nimport {fromEvent, Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\n\n@Directive({\n    selector: '[tuiClickOutside]',\n})\nexport class TuiClickOutsideDirective {\n    @Output()\n    readonly tuiClickOutside: Observable<unknown> = fromEvent(this.doc, 'mouseup').pipe(\n        map(tuiGetActualTarget),\n        filter(target => this.isOutside(target)),\n        tuiZoneOptimized(this.zone),\n    );\n\n    constructor(\n        @Inject(NgZone) private readonly zone: NgZone,\n        @Inject(DOCUMENT) private readonly doc: Document,\n        @Inject(ElementRef) private readonly el: ElementRef<HTMLElement>,\n    ) {}\n\n    private isOutside(target: Node): boolean {\n        return (\n            target === this.el.nativeElement ||\n            !tuiContainsOrAfter(this.el.nativeElement, target)\n        );\n    }\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiClickOutsideDirective} from './click-outside.directive';\n\n@NgModule({\n    declarations: [TuiClickOutsideDirective],\n    exports: [TuiClickOutsideDirective],\n})\nexport class TuiClickOutsideModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["fromEvent","map","tuiGetActualTarget","filter","tuiZoneOptimized","tuiContainsOrAfter","i0","NgZone","DOCUMENT","ElementRef","Directive","Inject","Output","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,QAAA,wBAAA,kBAAA,YAAA;IAQI,IAAA,SAAA,wBAAA,CACqC,IAAY,EACV,GAAa,EACX,EAA2B,EAAA;YAHpE,IAII,KAAA,GAAA,IAAA,CAAA;IAHiC,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAQ;IACV,QAAA,IAAG,CAAA,GAAA,GAAH,GAAG,CAAU;IACX,QAAA,IAAE,CAAA,EAAA,GAAF,EAAE,CAAyB;IAT3D,QAAA,IAAA,CAAA,eAAe,GAAwBA,cAAS,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,IAAI,CAC/EC,aAAG,CAACC,wBAAkB,CAAC,EACvBC,gBAAM,CAAC,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA,EAAA,CAAC,EACxCC,4BAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAC9B,CAAC;SAME;QAEI,wBAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,MAAY,EAAA;IAC1B,QAAA,QACI,MAAM,KAAK,IAAI,CAAC,EAAE,CAAC,aAAa;gBAChC,CAACC,wBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,MAAM,CAAC,EACpD;SACL,CAAA;;;IAnBQ,wBAAA,CAAA,IAAA,GAAAC,aAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,IAAA,EAAA,wBAAwB,EASrB,IAAA,EAAA,CAAA,EAAA,KAAA,EAAAC,SAAM,EACN,EAAA,EAAA,KAAA,EAAAC,eAAQ,aACRC,aAAU,EAAA,CAAA,EAAA,MAAA,EAAAH,aAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;yHAXb,wBAAwB,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,EAAA,QAAA,EAAAA,aAAA,EAAA,CAAA,CAAA;sHAAxB,wBAAwB,EAAA,UAAA,EAAA,CAAA;sBAHpCI,YAAS;IAAC,YAAA,IAAA,EAAA,CAAA;IACP,oBAAA,QAAQ,EAAE,mBAAmB;qBAChC,CAAA;;;kCAUQC,SAAM;mCAACJ,SAAM,CAAA;sCAC0B,QAAQ,EAAA,UAAA,EAAA,CAAA;kCAA/CI,SAAM;mCAACH,eAAQ,CAAA;;kCACfG,SAAM;mCAACF,aAAU,CAAA;;6BATb,eAAe,EAAA,CAAA;0BADvBG,SAAM;;;ACHX,QAAA,qBAAA,kBAAA,YAAA;IAAA,IAAA,SAAA,qBAAA,GAAA;;;;6IAAa,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAAN,aAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;8IAArB,qBAAqB,EAAA,YAAA,EAAA,CAHf,wBAAwB,CAAA,EAAA,OAAA,EAAA,CAC7B,wBAAwB,CAAA,EAAA,CAAA,CAAA;8IAEzB,qBAAqB,EAAA,CAAA,CAAA;sHAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;sBAJjCO,WAAQ;IAAC,YAAA,IAAA,EAAA,CAAA;wBACN,YAAY,EAAE,CAAC,wBAAwB,CAAC;wBACxC,OAAO,EAAE,CAAC,wBAAwB,CAAC;qBACtC,CAAA;;;ICPD;;IAEG;;;;;;;;;;;"}