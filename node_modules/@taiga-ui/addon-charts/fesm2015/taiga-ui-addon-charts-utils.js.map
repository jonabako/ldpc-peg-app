{"version":3,"file":"taiga-ui-addon-charts-utils.js","sources":["../../../projects/addon-charts/utils/line-angle.ts","../../../projects/addon-charts/utils/line-length.ts","../../../projects/addon-charts/utils/control-point.ts","../../../projects/addon-charts/utils/describe-sector.ts","../../../projects/addon-charts/utils/draw-curve.ts","../../../projects/addon-charts/utils/draw-line.ts","../../../projects/addon-charts/utils/draw.ts","../../../projects/addon-charts/utils/prepare-external-url.ts","../../../projects/addon-charts/utils/taiga-ui-addon-charts-utils.ts"],"sourcesContent":["import {TuiPoint} from '@taiga-ui/core';\n\nexport function tuiLineAngle(a: TuiPoint, b: TuiPoint): number {\n    const x = b[0] - a[0];\n    const y = b[1] - a[1];\n\n    return Math.atan2(y, x);\n}\n","import {TuiPoint} from '@taiga-ui/core';\n\nexport function tuiLineLength(a: TuiPoint, b: TuiPoint): number {\n    const x = b[0] - a[0];\n    const y = b[1] - a[1];\n\n    return Math.sqrt(x ** 2 + y ** 2);\n}\n","import {TuiPoint} from '@taiga-ui/core';\n\nimport {tuiLineAngle} from './line-angle';\nimport {tuiLineLength} from './line-length';\n\nexport function tuiControlPoint(\n    current: TuiPoint,\n    previous?: TuiPoint,\n    next?: TuiPoint,\n    reverse: boolean = false,\n    smoothing: number = 0.2,\n): TuiPoint {\n    const p = previous || current;\n    const n = next || current;\n    const angle = tuiLineAngle(p, n) + (reverse ? Math.PI : 0);\n    const length = tuiLineLength(p, n) * smoothing;\n    const x = current[0] + Math.cos(angle) * length;\n    const y = current[1] + Math.sin(angle) * length;\n\n    return [x, y];\n}\n","import {tuiToInt, tuiToRadians} from '@taiga-ui/cdk';\n\nconst EMPTY = 'M 100 0 A 100 100 0 1 1 100 0 L 0 0';\n\n/**\n * Describes a normalized sector by angles. Normalized meaning it supposed to work with\n * SVG with viewBox=\"-1 -1 2 2\" so that 0 coordinates in cartesian and polar match the same spot.\n * Everything is multiplied by 100 (including viewBox of SVG to host this) so IE properly\n * handles hover events.\n *\n * @param startAngle starting angle in degrees\n * @param endAngle ending angle in degrees\n */\nexport function tuiDescribeSector(startAngle: number, endAngle: number): string {\n    const startRad = tuiToRadians(startAngle);\n    const endRad = tuiToRadians(endAngle);\n    const startX = Math.cos(startRad) * 100;\n    const startY = Math.sin(startRad) * 100;\n    const endX = Math.cos(endRad) * 100;\n    const endY = Math.sin(endRad) * 100;\n    const largeArcFlag = tuiToInt(endAngle - startAngle > 180);\n    const result = [\n        'M',\n        startX,\n        startY,\n        'A 100 100 0',\n        largeArcFlag,\n        1,\n        endX,\n        endY,\n        'L 0 0',\n    ];\n\n    return Number.isNaN(endX) ? EMPTY : result.join(' ');\n}\n","import {TuiPoint} from '@taiga-ui/core';\n\nimport {tuiControlPoint} from './control-point';\n\nexport function tuiDrawCurve(\n    array: readonly TuiPoint[],\n    index: number,\n    smoothing: number,\n): string {\n    const [cpsX, cpsY] = tuiControlPoint(\n        array[index - 1],\n        array[index - 2],\n        array[index],\n        false,\n        smoothing,\n    );\n    const [cpeX, cpeY] = tuiControlPoint(\n        array[index],\n        array[index - 1],\n        array[index + 1],\n        true,\n        smoothing,\n    );\n\n    return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${array[index][0]},${array[index][1]}`;\n}\n","export function tuiDrawLine(point: [number, number]): string {\n    return `L ${point}`;\n}\n","import {TuiPoint} from '@taiga-ui/core';\n\nimport {tuiDrawCurve} from './draw-curve';\nimport {tuiDrawLine} from './draw-line';\n\nconst COEFFICIENT = 500;\n\nexport function tuiDraw(\n    array: readonly TuiPoint[],\n    index: number,\n    smoothing: number,\n): string {\n    return smoothing\n        ? tuiDrawCurve(array, index, smoothing / COEFFICIENT)\n        : tuiDrawLine([array[index][0], array[index][1]]);\n}\n","import {Location as NgLocation} from '@angular/common';\n\n/** @deprecated */\nexport function tuiPrepareExternalUrl(\n    locationNg: NgLocation,\n    locationRef: Location,\n    hash: string,\n): string {\n    const url = locationNg\n        .prepareExternalUrl(locationNg.path(false))\n        .replace(locationRef.origin, '');\n\n    return `url(${url}#${hash})`;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}