import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, Inject, Input, Optional, ViewChildren, } from '@angular/core';
import { EMPTY_QUERY, TuiIdService, tuiPure, tuiSum, } from '@taiga-ui/cdk';
import { TuiHintHoverDirective, TuiHintOptionsDirective, tuiHintOptionsProvider, } from '@taiga-ui/core';
import * as i0 from "@angular/core";
import * as i1 from "@taiga-ui/addon-charts/components/bar-set";
import * as i2 from "@angular/common";
import * as i3 from "@taiga-ui/core";
import * as i4 from "@taiga-ui/cdk";
export class TuiBarChartComponent {
    constructor(hintOptions, idService) {
        this.hintOptions = hintOptions;
        this.drivers = EMPTY_QUERY;
        this.value = [];
        this.max = NaN;
        this.size = 'm';
        this.collapsed = false;
        this.percentMapper = (set, collapsed, max) => (100 * (collapsed ? tuiSum(...set) : Math.max(...set))) / max;
        this.autoIdString = idService.generate();
    }
    get hintContent() {
        var _a;
        return ((_a = this.hintOptions) === null || _a === void 0 ? void 0 : _a.content) || '';
    }
    get transposed() {
        return this.transpose(this.value);
    }
    get computedMax() {
        return this.max || this.getMax(this.value, this.collapsed);
    }
    getHintId(index) {
        return `${this.autoIdString}_${index}`;
    }
    transpose(value) {
        return value.reduce((result, next) => next.map((_, index) => [...(result[index] || []), next[index]]), []);
    }
    getMax(values, collapsed) {
        return collapsed
            ? Math.max(
            // eslint-disable-next-line no-restricted-syntax
            ...values.reduce((result, next) => result.map((value, index) => value + next[index])))
            : values.reduce((max, value) => Math.max(...value, max), 0);
    }
}
TuiBarChartComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBarChartComponent, deps: [{ token: TuiHintOptionsDirective, optional: true }, { token: TuiIdService }], target: i0.ɵɵFactoryTarget.Component });
TuiBarChartComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: TuiBarChartComponent, selector: "tui-bar-chart", inputs: { value: "value", max: "max", size: "size", collapsed: "collapsed" }, viewQueries: [{ propertyName: "drivers", predicate: TuiHintHoverDirective, descendants: true }], ngImport: i0, template: "<div\n    *ngFor=\"let set of transposed; let index = index\"\n    class=\"t-wrapper\"\n    [class.t-wrapper_hoverable]=\"!!hintContent\"\n    [class.t-wrapper_hovered]=\"drivers.get(index) | async\"\n    [tuiHint]=\"hintContent\"\n    [tuiHintContext]=\"{$implicit: index}\"\n    [tuiHintDescribe]=\"getHintId(index)\"\n    [tuiHintHost]=\"hintHost\"\n    (mouseenter.once)=\"(0)\"\n>\n    <div\n        class=\"t-container\"\n        [style.height.%]=\"set | tuiMapper: percentMapper : collapsed : computedMax\"\n    >\n        <div\n            #hintHost\n            class=\"t-host\"\n        ></div>\n        <tui-bar-set\n            class=\"t-set\"\n            [collapsed]=\"collapsed\"\n            [id]=\"getHintId(index)\"\n            [size]=\"size\"\n            [tuiFocusable]=\"!!hintContent\"\n            [value]=\"set\"\n        ></tui-bar-set>\n    </div>\n</div>\n", styles: [":host{display:flex;flex:1;height:100%}.t-wrapper{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:flex;flex:1;align-items:flex-end;justify-content:center;height:100%}.t-wrapper_hoverable{cursor:pointer}.t-wrapper_hoverable:hover,.t-wrapper_hoverable.t-wrapper_hovered{background-color:#0000000d}.t-container{flex:1}.t-host{position:absolute;left:50%;right:50%}.t-set{border-radius:var(--tui-radius-m);pointer-events:none;outline:none}.t-set:focus{box-shadow:0 0 0 2px var(--tui-focus)}\n"], components: [{ type: i1.TuiBarSetComponent, selector: "tui-bar-set", inputs: ["value", "size", "collapsed"] }], directives: [{ type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i3.TuiHintDirective, selector: "[tuiHint]:not(ng-container):not(ng-template)", inputs: ["tuiHint", "tuiHintContext", "tuiHintAppearance"] }, { type: i3.TuiHintDriverDirective, selector: "[tuiHint]:not(ng-container):not(ng-template)" }, { type: i3.TuiHintHoverDirective, selector: "[tuiHint]:not(ng-container):not(ng-template)", inputs: ["tuiHintShowDelay", "tuiHintHideDelay"], exportAs: ["tuiHintHover"] }, { type: i3.TuiHintPositionDirective, selector: "[tuiHint]:not([tuiHintCustomPosition]):not(ng-container):not(ng-template)", inputs: ["tuiHintDirection"] }, { type: i3.TuiHintHostDirective, selector: "[tuiHint][tuiHintHost]", inputs: ["tuiHintHost"] }, { type: i3.TuiHintDescribeDirective, selector: "[tuiHintDescribe]", inputs: ["tuiHintDescribe"] }, { type: i4.TuiFocusableDirective, selector: "[tuiFocusable]", inputs: ["tuiFocusable"] }], pipes: { "async": i2.AsyncPipe, "tuiMapper": i4.TuiMapperPipe }, viewProviders: [tuiHintOptionsProvider({ direction: 'top' })], changeDetection: i0.ChangeDetectionStrategy.OnPush });
__decorate([
    tuiPure
], TuiBarChartComponent.prototype, "transpose", null);
__decorate([
    tuiPure
], TuiBarChartComponent.prototype, "getMax", null);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: TuiBarChartComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'tui-bar-chart',
                    templateUrl: './bar-chart.template.html',
                    styleUrls: ['./bar-chart.style.less'],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    viewProviders: [tuiHintOptionsProvider({ direction: 'top' })],
                }]
        }], ctorParameters: function () { return [{ type: i3.TuiHintOptionsDirective, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [TuiHintOptionsDirective]
                }] }, { type: i4.TuiIdService, decorators: [{
                    type: Inject,
                    args: [TuiIdService]
                }] }]; }, propDecorators: { drivers: [{
                type: ViewChildren,
                args: [TuiHintHoverDirective]
            }], value: [{
                type: Input
            }], max: [{
                type: Input
            }], size: [{
                type: Input
            }], collapsed: [{
                type: Input
            }], transpose: [], getMax: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFyLWNoYXJ0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FkZG9uLWNoYXJ0cy9jb21wb25lbnRzL2Jhci1jaGFydC9iYXItY2hhcnQuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYWRkb24tY2hhcnRzL2NvbXBvbmVudHMvYmFyLWNoYXJ0L2Jhci1jaGFydC50ZW1wbGF0ZS5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxNQUFNLEVBQ04sS0FBSyxFQUNMLFFBQVEsRUFFUixZQUFZLEdBQ2YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUNILFdBQVcsRUFFWCxZQUFZLEVBQ1osT0FBTyxFQUNQLE1BQU0sR0FFVCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQ0gscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2QixzQkFBc0IsR0FHekIsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBV3hCLE1BQU0sT0FBTyxvQkFBb0I7SUFrQjdCLFlBR3FCLFdBQTJDLEVBQ3RDLFNBQXVCO1FBRDVCLGdCQUFXLEdBQVgsV0FBVyxDQUFnQztRQWpCdkQsWUFBTyxHQUFtQyxXQUFXLENBQUM7UUFHL0QsVUFBSyxHQUFxQyxFQUFFLENBQUM7UUFHN0MsUUFBRyxHQUFHLEdBQUcsQ0FBQztRQUdWLFNBQUksR0FBK0IsR0FBRyxDQUFDO1FBR3ZDLGNBQVMsR0FBRyxLQUFLLENBQUM7UUF1QlQsa0JBQWEsR0FDbEIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQ3BCLENBQUMsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxD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ICAgIENvbXBvbmVudCxcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG4gICAgT3B0aW9uYWwsXG4gICAgUXVlcnlMaXN0LFxuICAgIFZpZXdDaGlsZHJlbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIEVNUFRZX1FVRVJZLFxuICAgIFR1aUNvbnRleHRXaXRoSW1wbGljaXQsXG4gICAgVHVpSWRTZXJ2aWNlLFxuICAgIHR1aVB1cmUsXG4gICAgdHVpU3VtLFxuICAgIFR1aVR5cGVkTWFwcGVyLFxufSBmcm9tICdAdGFpZ2EtdWkvY2RrJztcbmltcG9ydCB7XG4gICAgVHVpSGludEhvdmVyRGlyZWN0aXZlLFxuICAgIFR1aUhpbnRPcHRpb25zRGlyZWN0aXZlLFxuICAgIHR1aUhpbnRPcHRpb25zUHJvdmlkZXIsXG4gICAgVHVpU2l6ZUwsXG4gICAgVHVpU2l6ZVMsXG59IGZyb20gJ0B0YWlnYS11aS9jb3JlJztcbmltcG9ydCB7UG9seW1vcnBoZXVzQ29udGVudH0gZnJvbSAnQHRpbmtvZmYvbmctcG9seW1vcnBoZXVzJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndHVpLWJhci1jaGFydCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2Jhci1jaGFydC50ZW1wbGF0ZS5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9iYXItY2hhcnQuc3R5bGUubGVzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIHZpZXdQcm92aWRlcnM6IFt0dWlIaW50T3B0aW9uc1Byb3ZpZGVyKHtkaXJlY3Rpb246ICd0b3AnfSldLFxufSlcbmV4cG9ydCBjbGFzcyBUdWlCYXJDaGFydENvbXBvbmVudCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBhdXRvSWRTdHJpbmc6IHN0cmluZztcblxuICAgIEBWaWV3Q2hpbGRyZW4oVHVpSGludEhvdmVyRGlyZWN0aXZlKVxuICAgIHJlYWRvbmx5IGRyaXZlcnM6IFF1ZXJ5TGlzdDxPYnNlcnZhYmxlPGJvb2xlYW4+PiA9IEVNUFRZX1FVRVJZO1xuXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogUmVhZG9ubHlBcnJheTxyZWFkb25seSBudW1iZXJbXT4gPSBbXTtcblxuICAgIEBJbnB1dCgpXG4gICAgbWF4ID0gTmFOO1xuXG4gICAgQElucHV0KClcbiAgICBzaXplOiBUdWlTaXplTCB8IFR1aVNpemVTIHwgbnVsbCA9ICdtJztcblxuICAgIEBJbnB1dCgpXG4gICAgY29sbGFwc2VkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQE9wdGlvbmFsKClcbiAgICAgICAgQEluamVjdChUdWlIaW50T3B0aW9uc0RpcmVjdGl2ZSlcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBoaW50T3B0aW9uczogVHVpSGludE9wdGlvbnNEaXJlY3RpdmUgfCBudWxsLFxuICAgICAgICBASW5qZWN0KFR1aUlkU2VydmljZSkgaWRTZXJ2aWNlOiBUdWlJZFNlcnZpY2UsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYXV0b0lkU3RyaW5nID0gaWRTZXJ2aWNlLmdlbmVyYXRlKCk7XG4gICAgfVxuXG4gICAgZ2V0IGhpbnRDb250ZW50KCk6IFBvbHltb3JwaGV1c0NvbnRlbnQ8VHVpQ29udGV4dFdpdGhJbXBsaWNpdDxudW1iZXI+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpbnRPcHRpb25zPy5jb250ZW50IHx8ICcnO1xuICAgIH1cblxuICAgIGdldCB0cmFuc3Bvc2VkKCk6IFJlYWRvbmx5QXJyYXk8cmVhZG9ubHkgbnVtYmVyW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3NlKHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIGdldCBjb21wdXRlZE1heCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXggfHwgdGhpcy5nZXRNYXgodGhpcy52YWx1ZSwgdGhpcy5jb2xsYXBzZWQpO1xuICAgIH1cblxuICAgIHJlYWRvbmx5IHBlcmNlbnRNYXBwZXI6IFR1aVR5cGVkTWFwcGVyPFtyZWFkb25seSBudW1iZXJbXSwgYm9vbGVhbiwgbnVtYmVyXSwgbnVtYmVyPiA9XG4gICAgICAgIChzZXQsIGNvbGxhcHNlZCwgbWF4KSA9PlxuICAgICAgICAgICAgKDEwMCAqIChjb2xsYXBzZWQgPyB0dWlTdW0oLi4uc2V0KSA6IE1hdGgubWF4KC4uLnNldCkpKSAvIG1heDtcblxuICAgIGdldEhpbnRJZChpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYXV0b0lkU3RyaW5nfV8ke2luZGV4fWA7XG4gICAgfVxuXG4gICAgQHR1aVB1cmVcbiAgICBwcml2YXRlIHRyYW5zcG9zZShcbiAgICAgICAgdmFsdWU6IFJlYWRvbmx5QXJyYXk8cmVhZG9ubHkgbnVtYmVyW10+LFxuICAgICk6IFJlYWRvbmx5QXJyYXk8cmVhZG9ubHkgbnVtYmVyW10+IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnJlZHVjZTxSZWFkb25seUFycmF5PHJlYWRvbmx5IG51bWJlcltdPj4oXG4gICAgICAgICAgICAocmVzdWx0LCBuZXh0KSA9PlxuICAgICAgICAgICAgICAgIG5leHQubWFwKChfLCBpbmRleCkgPT4gWy4uLihyZXN1bHRbaW5kZXhdIHx8IFtdKSwgbmV4dFtpbmRleF1dKSxcbiAgICAgICAgICAgIFtdLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIEB0dWlQdXJlXG4gICAgcHJpdmF0ZSBnZXRNYXgodmFsdWVzOiBSZWFkb25seUFycmF5PHJlYWRvbmx5IG51bWJlcltdPiwgY29sbGFwc2VkOiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGNvbGxhcHNlZFxuICAgICAgICAgICAgPyBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICAgICAgICAgICAgLi4udmFsdWVzLnJlZHVjZSgocmVzdWx0LCBuZXh0KSA9PlxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tYXAoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgKyBuZXh0W2luZGV4XSksXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHZhbHVlcy5yZWR1Y2UoKG1heCwgdmFsdWUpID0+IE1hdGgubWF4KC4uLnZhbHVlLCBtYXgpLCAwKTtcbiAgICB9XG59XG4iLCI8ZGl2XG4gICAgKm5nRm9yPVwibGV0IHNldCBvZiB0cmFuc3Bvc2VkOyBsZXQgaW5kZXggPSBpbmRleFwiXG4gICAgY2xhc3M9XCJ0LXdyYXBwZXJcIlxuICAgIFtjbGFzcy50LXdyYXBwZXJfaG92ZXJhYmxlXT1cIiEhaGludENvbnRlbnRcIlxuICAgIFtjbGFzcy50LXdyYXBwZXJfaG92ZXJlZF09XCJkcml2ZXJzLmdldChpbmRleCkgfCBhc3luY1wiXG4gICAgW3R1aUhpbnRdPVwiaGludENvbnRlbnRcIlxuICAgIFt0dWlIaW50Q29udGV4dF09XCJ7JGltcGxpY2l0OiBpbmRleH1cIlxuICAgIFt0dWlIaW50RGVzY3JpYmVdPVwiZ2V0SGludElkKGluZGV4KVwiXG4gICAgW3R1aUhpbnRIb3N0XT1cImhpbnRIb3N0XCJcbiAgICAobW91c2VlbnRlci5vbmNlKT1cIigwKVwiXG4+XG4gICAgPGRpdlxuICAgICAgICBjbGFzcz1cInQtY29udGFpbmVyXCJcbiAgICAgICAgW3N0eWxlLmhlaWdodC4lXT1cInNldCB8IHR1aU1hcHBlcjogcGVyY2VudE1hcHBlciA6IGNvbGxhcHNlZCA6IGNvbXB1dGVkTWF4XCJcbiAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgICNoaW50SG9zdFxuICAgICAgICAgICAgY2xhc3M9XCJ0LWhvc3RcIlxuICAgICAgICA+PC9kaXY+XG4gICAgICAgIDx0dWktYmFyLXNldFxuICAgICAgICAgICAgY2xhc3M9XCJ0LXNldFwiXG4gICAgICAgICAgICBbY29sbGFwc2VkXT1cImNvbGxhcHNlZFwiXG4gICAgICAgICAgICBbaWRdPVwiZ2V0SGludElkKGluZGV4KVwiXG4gICAgICAgICAgICBbc2l6ZV09XCJzaXplXCJcbiAgICAgICAgICAgIFt0dWlGb2N1c2FibGVdPVwiISFoaW50Q29udGVudFwiXG4gICAgICAgICAgICBbdmFsdWVdPVwic2V0XCJcbiAgICAgICAgPjwvdHVpLWJhci1zZXQ+XG4gICAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==