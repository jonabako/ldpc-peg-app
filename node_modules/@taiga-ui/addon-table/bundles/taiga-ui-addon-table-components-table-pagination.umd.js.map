{"version":3,"file":"taiga-ui-addon-table-components-table-pagination.umd.js","sources":["../../../projects/addon-table/components/table-pagination/table-pagination.options.ts","../../../projects/addon-table/components/table-pagination/table-pagination.component.ts","../../../projects/addon-table/components/table-pagination/table-pagination.template.html","../../../projects/addon-table/components/table-pagination/table-pagination.module.ts","../../../projects/addon-table/components/table-pagination/taiga-ui-addon-table-components-table-pagination.ts"],"sourcesContent":["import {Provider} from '@angular/core';\nimport {TuiContextWithImplicit, tuiCreateToken, tuiProvideOptions} from '@taiga-ui/cdk';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\n\nfunction defaultSizeOptionContent({$implicit}: TuiContextWithImplicit<number>): string {\n    return `${$implicit}`;\n}\n\nexport interface TuiTablePaginationOptions {\n    readonly items: readonly number[];\n    readonly showPages: boolean;\n    readonly size: number;\n    readonly sizeOptionContent: PolymorpheusContent<\n        TuiContextWithImplicit<number> & {total: number}\n    >;\n}\n\nexport const TUI_TABLE_PAGINATION_DEFAULT_OPTIONS: TuiTablePaginationOptions = {\n    sizeOptionContent: defaultSizeOptionContent,\n    showPages: true,\n    items: [10, 20, 50, 100],\n    size: 10,\n};\n\n/**\n * Default parameters for TablePagination component\n */\nexport const TUI_TABLE_PAGINATION_OPTIONS = tuiCreateToken(\n    TUI_TABLE_PAGINATION_DEFAULT_OPTIONS,\n);\n\nexport function tuiTablePaginationOptionsProvider(\n    options: Partial<TuiTablePaginationOptions>,\n): Provider {\n    return tuiProvideOptions(\n        TUI_TABLE_PAGINATION_OPTIONS,\n        options,\n        TUI_TABLE_PAGINATION_DEFAULT_OPTIONS,\n    );\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {TUI_TABLE_PAGINATION_TEXTS} from '@taiga-ui/addon-table/tokens';\nimport {\n    TUI_COMMON_ICONS,\n    TUI_SPIN_ICONS,\n    TUI_SPIN_TEXTS,\n    TuiCommonIcons,\n    TuiSpinIcons,\n} from '@taiga-ui/core';\nimport {Observable} from 'rxjs';\n\nimport {\n    TUI_TABLE_PAGINATION_OPTIONS,\n    TuiTablePaginationOptions,\n} from './table-pagination.options';\n\nexport interface TuiTablePagination {\n    readonly page: number;\n    readonly size: number;\n}\n\n@Component({\n    selector: 'tui-table-pagination',\n    templateUrl: './table-pagination.template.html',\n    styleUrls: ['./table-pagination.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiTablePaginationComponent {\n    @Input()\n    items: readonly number[] = this.options.items;\n\n    @Input()\n    total = 0;\n\n    @Input()\n    page = 0;\n\n    @Input()\n    size = this.options.size;\n\n    /**\n     * TODO: Remove in 4.0\n     * @deprecated use paginationChange\n     */\n    @Output()\n    readonly pageChange = new EventEmitter<number>();\n\n    /**\n     * TODO: Remove in 4.0\n     * @deprecated use paginationChange\n     */\n    @Output()\n    readonly sizeChange = new EventEmitter<number>();\n\n    @Output()\n    readonly paginationChange = new EventEmitter<TuiTablePagination>();\n\n    open = false;\n\n    constructor(\n        @Inject(TUI_SPIN_ICONS) readonly icons: TuiSpinIcons,\n        @Inject(TUI_SPIN_TEXTS) readonly spinTexts$: Observable<[string, string]>,\n        @Inject(TUI_TABLE_PAGINATION_TEXTS)\n        readonly texts$: Observable<Record<'linesPerPage' | 'of' | 'pages', string>>,\n        @Inject(TUI_TABLE_PAGINATION_OPTIONS) readonly options: TuiTablePaginationOptions,\n        @Inject(TUI_COMMON_ICONS) readonly commonIcons: TuiCommonIcons,\n    ) {}\n\n    get pages(): number {\n        return Math.ceil(this.total / this.size);\n    }\n\n    get start(): number {\n        return this.page * this.size;\n    }\n\n    get end(): number {\n        return Math.min(this.start + this.size, this.total);\n    }\n\n    get leftDisabled(): boolean {\n        return !this.start;\n    }\n\n    get rightDisabled(): boolean {\n        return this.end === this.total;\n    }\n\n    get pagination(): TuiTablePagination {\n        return {\n            page: this.page,\n            size: this.size,\n        };\n    }\n\n    onItem(size: number): void {\n        const {start} = this;\n\n        this.size = size;\n        this.sizeChange.emit(size);\n        this.open = false;\n        this.page = Math.floor(start / this.size);\n        this.pageChange.emit(this.page);\n        this.paginationChange.emit(this.pagination);\n    }\n\n    back(): void {\n        this.page--;\n        this.pageChange.emit(this.page);\n        this.paginationChange.emit(this.pagination);\n    }\n\n    forth(): void {\n        this.page++;\n        this.pageChange.emit(this.page);\n        this.paginationChange.emit(this.pagination);\n    }\n}\n","<ng-container *ngIf=\"texts$ | async as texts\">\n    <span class=\"t-pages\">\n        <ng-container *ngIf=\"options.showPages\">\n            {{ texts.pages }}\n            <strong class=\"t-strong\">{{ pages }}</strong>\n        </ng-container>\n    </span>\n    <span automation-id=\"tui-table-pagination__lines-per-page-wrapper\">\n        {{ texts.linesPerPage }}\n        <tui-hosted-dropdown\n            [content]=\"content\"\n            [(open)]=\"open\"\n        >\n            <button\n                tuiLink\n                type=\"button\"\n            >\n                <strong>{{ start + 1 }}â€“{{ end }}</strong>\n            </button>\n            <ng-template #content>\n                <tui-data-list size=\"s\">\n                    <ng-container *ngFor=\"let item of items\">\n                        <button\n                            tuiOption\n                            class=\"t-item\"\n                            (click)=\"onItem(item)\"\n                        >\n                            <ng-container\n                                *polymorpheusOutlet=\"\n                                    options.sizeOptionContent as text;\n                                    context: {$implicit: item, total: total}\n                                \"\n                            >\n                                {{ text }}\n                            </ng-container>\n                            <tui-svg\n                                *ngIf=\"item === size; else fakeIcon\"\n                                class=\"t-checkmark\"\n                                [src]=\"commonIcons.check\"\n                            ></tui-svg>\n\n                            <ng-template #fakeIcon>\n                                <span class=\"t-checkmark\"></span>\n                            </ng-template>\n                        </button>\n                    </ng-container>\n                </tui-data-list>\n            </ng-template>\n        </tui-hosted-dropdown>\n        {{ texts.of }}\n        <strong class=\"t-strong\">{{ total }}</strong>\n    </span>\n    <ng-container *ngIf=\"spinTexts$ | async as spinTexts\">\n        <button\n            appearance=\"icon\"\n            size=\"xs\"\n            tuiIconButton\n            type=\"button\"\n            class=\"t-back\"\n            [disabled]=\"leftDisabled\"\n            [icon]=\"icons.decrement\"\n            [title]=\"spinTexts[0]\"\n            (click)=\"back()\"\n        ></button>\n        <button\n            appearance=\"icon\"\n            size=\"xs\"\n            tuiIconButton\n            type=\"button\"\n            [disabled]=\"rightDisabled\"\n            [icon]=\"icons.increment\"\n            [title]=\"spinTexts[1]\"\n            (click)=\"forth()\"\n        ></button>\n    </ng-container>\n</ng-container>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {\n    TuiButtonModule,\n    TuiDataListModule,\n    TuiHostedDropdownModule,\n    TuiLinkModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiTablePaginationComponent} from './table-pagination.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiButtonModule,\n        TuiLinkModule,\n        TuiHostedDropdownModule,\n        TuiDataListModule,\n        TuiSvgModule,\n        PolymorpheusModule,\n    ],\n    declarations: [TuiTablePaginationComponent],\n    exports: [TuiTablePaginationComponent],\n})\nexport class TuiTablePaginationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["tuiCreateToken","tuiProvideOptions","EventEmitter","TUI_SPIN_ICONS","TUI_SPIN_TEXTS","TUI_TABLE_PAGINATION_TEXTS","TUI_COMMON_ICONS","i0","i1","i2","i3","Component","ChangeDetectionStrategy","Inject","Input","Output","CommonModule","TuiButtonModule","TuiLinkModule","TuiHostedDropdownModule","TuiDataListModule","TuiSvgModule","PolymorpheusModule","NgModule"],"mappings":"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"}