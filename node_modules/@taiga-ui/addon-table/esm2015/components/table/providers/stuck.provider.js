import { ElementRef, InjectionToken } from '@angular/core';
import { IntersectionObserverService } from '@ng-web-apis/intersection-observer';
import { map } from 'rxjs/operators';
/**
 * Stream of sticky stuck events
 */
export const TUI_STUCK = new InjectionToken('[TUI_STUCK]');
export const TUI_STUCK_PROVIDER = {
    provide: TUI_STUCK,
    deps: [ElementRef, IntersectionObserverService],
    useFactory: ({ nativeElement }, entries$) => {
        const stream$ = entries$.pipe(map(([{ intersectionRatio }]) => intersectionRatio < 1));
        nativeElement['$.class._stuck'] = stream$;
        return stream$;
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R1Y2sucHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hZGRvbi10YWJsZS9jb21wb25lbnRzL3RhYmxlL3Byb3ZpZGVycy9zdHVjay5wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsVUFBVSxFQUFFLGNBQWMsRUFBVyxNQUFNLGVBQWUsQ0FBQztBQUNuRSxPQUFPLEVBQUMsMkJBQTJCLEVBQUMsTUFBTSxvQ0FBb0MsQ0FBQztBQUUvRSxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFFbkM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsSUFBSSxjQUFjLENBQVUsYUFBYSxDQUFDLENBQUM7QUFFcEUsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQWE7SUFDeEMsT0FBTyxFQUFFLFNBQVM7SUFDbEIsSUFBSSxFQUFFLENBQUMsVUFBVSxFQUFFLDJCQUEyQixDQUFDO0lBQy9DLFVBQVUsRUFBRSxDQUNSLEVBQUMsYUFBYSxFQUFhLEVBQzNCLFFBQWlELEVBQzlCLEVBQUU7UUFDckIsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FDekIsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFDLGlCQUFpQixFQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQ3hELENBQUM7UUFFRixhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxPQUFPLENBQUM7UUFFMUMsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0VsZW1lbnRSZWYsIEluamVjdGlvblRva2VuLCBQcm92aWRlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0ludGVyc2VjdGlvbk9ic2VydmVyU2VydmljZX0gZnJvbSAnQG5nLXdlYi1hcGlzL2ludGVyc2VjdGlvbi1vYnNlcnZlcic7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLyoqXG4gKiBTdHJlYW0gb2Ygc3RpY2t5IHN0dWNrIGV2ZW50c1xuICovXG5leHBvcnQgY29uc3QgVFVJX1NUVUNLID0gbmV3IEluamVjdGlvblRva2VuPGJvb2xlYW4+KCdbVFVJX1NUVUNLXScpO1xuXG5leHBvcnQgY29uc3QgVFVJX1NUVUNLX1BST1ZJREVSOiBQcm92aWRlciA9IHtcbiAgICBwcm92aWRlOiBUVUlfU1RVQ0ssXG4gICAgZGVwczogW0VsZW1lbnRSZWYsIEludGVyc2VjdGlvbk9ic2VydmVyU2VydmljZV0sXG4gICAgdXNlRmFjdG9yeTogKFxuICAgICAgICB7bmF0aXZlRWxlbWVudH06IEVsZW1lbnRSZWYsXG4gICAgICAgIGVudHJpZXMkOiBPYnNlcnZhYmxlPEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXT4sXG4gICAgKTogT2JzZXJ2YWJsZTxib29sZWFuPiA9PiB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSQgPSBlbnRyaWVzJC5waXBlKFxuICAgICAgICAgICAgbWFwKChbe2ludGVyc2VjdGlvblJhdGlvfV0pID0+IGludGVyc2VjdGlvblJhdGlvIDwgMSksXG4gICAgICAgICk7XG5cbiAgICAgICAgbmF0aXZlRWxlbWVudFsnJC5jbGFzcy5fc3R1Y2snXSA9IHN0cmVhbSQ7XG5cbiAgICAgICAgcmV0dXJuIHN0cmVhbSQ7XG4gICAgfSxcbn07XG4iXX0=