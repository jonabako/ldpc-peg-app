{"version":3,"file":"taiga-ui-core-components-calendar.umd.js","sources":["../../../projects/core/components/calendar/calendar.component.ts","../../../projects/core/components/calendar/calendar.template.html","../../../projects/core/components/calendar/calendar.module.ts","../../../projects/core/components/calendar/taiga-ui-core-components-calendar.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\nimport {\n    ALWAYS_FALSE_HANDLER,\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    TuiBooleanHandler,\n    TuiDay,\n    TuiDayRange,\n    TuiMonth,\n    tuiNullableSame,\n    TuiTypedMapper,\n    TuiYear,\n} from '@taiga-ui/cdk';\nimport {TUI_DEFAULT_MARKER_HANDLER} from '@taiga-ui/core/constants';\nimport {TuiWithOptionalMinMax} from '@taiga-ui/core/interfaces';\nimport {TuiCalendarView, TuiMarkerHandler} from '@taiga-ui/core/types';\n\n@Component({\n    selector: 'tui-calendar',\n    templateUrl: './calendar.template.html',\n    styleUrls: ['./calendar.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiCalendarComponent implements TuiWithOptionalMinMax<TuiDay> {\n    private day: TuiDay | TuiDayRange | readonly TuiDay[] | null = null;\n\n    private view: TuiCalendarView = 'month';\n\n    @Input()\n    set initialView(view: TuiCalendarView) {\n        this.view = view;\n    }\n\n    @Input()\n    month: TuiMonth = TuiMonth.currentLocal();\n\n    @Input()\n    disabledItemHandler: TuiBooleanHandler<TuiDay> = ALWAYS_FALSE_HANDLER;\n\n    @Input()\n    min: TuiDay | null = TUI_FIRST_DAY;\n\n    @Input()\n    max: TuiDay | null = TUI_LAST_DAY;\n\n    @Input()\n    minViewedMonth: TuiMonth | null = TUI_FIRST_DAY;\n\n    @Input()\n    maxViewedMonth: TuiMonth | null = TUI_LAST_DAY;\n\n    @Input()\n    hoveredItem: TuiDay | null = null;\n\n    @Input()\n    showAdjacent = true;\n\n    @Input()\n    markerHandler: TuiMarkerHandler = TUI_DEFAULT_MARKER_HANDLER;\n\n    @Input()\n    set value(value: TuiDay | TuiDayRange | readonly TuiDay[] | null) {\n        this.day = value;\n\n        if (this.showAdjacent && value instanceof TuiDay) {\n            this.month = value;\n        }\n    }\n\n    get value(): TuiDay | TuiDayRange | readonly TuiDay[] | null {\n        return this.day;\n    }\n\n    @Output()\n    readonly dayClick = new EventEmitter<TuiDay>();\n\n    @Output()\n    readonly monthChange = new EventEmitter<TuiMonth>();\n\n    @Output()\n    readonly hoveredItemChange = new EventEmitter<TuiDay | null>();\n\n    get isInYearView(): boolean {\n        return this.view === 'year';\n    }\n\n    readonly disabledItemHandlerMapper: TuiTypedMapper<\n        [TuiBooleanHandler<TuiDay>, TuiDay, TuiDay],\n        TuiBooleanHandler<TuiDay>\n    > = (disabledItemHandler, min, max) => item =>\n        item.dayBefore(min) || item.dayAfter(max) || disabledItemHandler(item);\n\n    get computedMin(): TuiDay {\n        return this.min ?? TUI_FIRST_DAY;\n    }\n\n    get computedMax(): TuiDay {\n        return this.max ?? TUI_LAST_DAY;\n    }\n\n    get computedMinViewedMonth(): TuiMonth {\n        const min = this.computedMin;\n        const minViewed = this.minViewedMonth ?? TUI_FIRST_DAY;\n\n        return minViewed.monthSameOrAfter(min) ? minViewed : min;\n    }\n\n    get computedMaxViewedMonth(): TuiMonth {\n        const max = this.computedMax;\n        const maxViewed = this.maxViewedMonth ?? TUI_LAST_DAY;\n\n        return maxViewed.monthSameOrBefore(max) ? maxViewed : max;\n    }\n\n    onPaginationYearClick(): void {\n        this.view = 'year';\n    }\n\n    onPickerYearClick({year}: TuiYear): void {\n        this.view = 'month';\n        this.updateViewedMonth(new TuiMonth(year, this.month.month));\n    }\n\n    onPaginationValueChange(month: TuiMonth): void {\n        this.updateViewedMonth(month);\n    }\n\n    onDayClick(day: TuiDay): void {\n        this.dayClick.emit(day);\n    }\n\n    onHoveredItemChange(day: TuiDay | null): void {\n        this.updateHoveredDay(day);\n    }\n\n    private updateViewedMonth(month: TuiMonth): void {\n        if (this.month.monthSame(month)) {\n            return;\n        }\n\n        this.month = month;\n        this.monthChange.emit(month);\n    }\n\n    private updateHoveredDay(day: TuiDay | null): void {\n        if (tuiNullableSame(this.hoveredItem, day, (a, b) => a.daySame(b))) {\n            return;\n        }\n\n        this.hoveredItem = day;\n        this.hoveredItemChange.emit(day);\n    }\n}\n","<tui-scrollbar\n    *ngIf=\"isInYearView; else calendar\"\n    automation-id=\"tui-calendar__scrollbar\"\n    class=\"t-scrollbar\"\n>\n    <tui-primitive-year-picker\n        automation-id=\"tui-calendar__year\"\n        [initialItem]=\"month\"\n        [max]=\"computedMax\"\n        [min]=\"computedMin\"\n        [value]=\"value\"\n        (yearClick)=\"onPickerYearClick($event)\"\n    ></tui-primitive-year-picker>\n</tui-scrollbar>\n<ng-template #calendar>\n    <tui-primitive-year-month-pagination\n        automation-id=\"tui-calendar__pagination\"\n        class=\"t-pagination\"\n        [max]=\"computedMaxViewedMonth\"\n        [min]=\"computedMinViewedMonth\"\n        [value]=\"month\"\n        (valueChange)=\"onPaginationValueChange($event)\"\n        (yearClick)=\"onPaginationYearClick()\"\n    ></tui-primitive-year-month-pagination>\n    <tui-primitive-calendar\n        automation-id=\"tui-calendar__calendar\"\n        [disabledItemHandler]=\"disabledItemHandler | tuiMapper: disabledItemHandlerMapper : computedMin : computedMax\"\n        [hoveredItem]=\"hoveredItem\"\n        [markerHandler]=\"markerHandler\"\n        [month]=\"month\"\n        [showAdjacent]=\"showAdjacent\"\n        [value]=\"value\"\n        (dayClick)=\"onDayClick($event)\"\n        (hoveredItemChange)=\"onHoveredItemChange($event)\"\n    ></tui-primitive-calendar>\n</ng-template>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiMapperPipeModule} from '@taiga-ui/cdk';\nimport {TuiPrimitiveCalendarModule} from '@taiga-ui/core/components/primitive-calendar';\nimport {TuiPrimitiveYearPickerModule} from '@taiga-ui/core/components/primitive-year-picker';\nimport {TuiScrollbarModule} from '@taiga-ui/core/components/scrollbar';\nimport {TuiPrimitiveYearMonthPaginationModule} from '@taiga-ui/core/internal/primitive-year-month-pagination';\n\nimport {TuiCalendarComponent} from './calendar.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiPrimitiveYearMonthPaginationModule,\n        TuiPrimitiveCalendarModule,\n        TuiPrimitiveYearPickerModule,\n        TuiScrollbarModule,\n        TuiMapperPipeModule,\n    ],\n    declarations: [TuiCalendarComponent],\n    exports: [TuiCalendarComponent],\n})\nexport class TuiCalendarModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["TuiMonth","ALWAYS_FALSE_HANDLER","TUI_FIRST_DAY","TUI_LAST_DAY","TUI_DEFAULT_MARKER_HANDLER","EventEmitter","TuiDay","tuiNullableSame","i0","i1","i2","i3","i4","i5","i6","Component","ChangeDetectionStrategy","Input","Output","CommonModule","TuiPrimitiveYearMonthPaginationModule","TuiPrimitiveCalendarModule","TuiPrimitiveYearPickerModule","TuiScrollbarModule","TuiMapperPipeModule","NgModule"],"mappings":"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"}