{"version":3,"file":"taiga-ui-core-internal-primitive-year-month-pagination.umd.js","sources":["../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.component.ts","../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.template.html","../../../projects/core/internal/primitive-year-month-pagination/primitive-year-month-pagination.module.ts","../../../projects/core/internal/primitive-year-month-pagination/taiga-ui-core-internal-primitive-year-month-pagination.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n} from '@angular/core';\nimport {\n    TUI_FIRST_DAY,\n    TUI_LAST_DAY,\n    TuiMonth,\n    TuiMonthLike,\n    TuiYear,\n} from '@taiga-ui/cdk';\nimport {TuiWithOptionalMinMax} from '@taiga-ui/core/interfaces';\n\n@Component({\n    selector: 'tui-primitive-year-month-pagination',\n    templateUrl: './primitive-year-month-pagination.template.html',\n    styleUrls: ['./primitive-year-month-pagination.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPrimitiveYearMonthPaginationComponent\n    implements TuiWithOptionalMinMax<TuiMonth>\n{\n    @Input()\n    value = TuiMonth.currentLocal();\n\n    @Input()\n    min: TuiMonth | null = TUI_FIRST_DAY;\n\n    @Input()\n    max: TuiMonth | null = TUI_LAST_DAY;\n\n    @Output()\n    readonly valueChange = new EventEmitter<TuiMonth>();\n\n    @Output()\n    readonly yearClick = new EventEmitter<TuiYear>();\n\n    get computedMin(): TuiMonth {\n        return this.min ?? TUI_FIRST_DAY;\n    }\n\n    get computedMax(): TuiMonth {\n        return this.max ?? TUI_LAST_DAY;\n    }\n\n    get prevMonthDisabled(): boolean {\n        return this.value.monthSameOrBefore(this.computedMin);\n    }\n\n    get nextMonthDisabled(): boolean {\n        return this.value.monthSameOrAfter(this.computedMax);\n    }\n\n    get oneYear(): boolean {\n        const {computedMin, computedMax} = this;\n\n        return computedMin.year === computedMax.year;\n    }\n\n    onYearClick(): void {\n        this.yearClick.next(this.value);\n    }\n\n    onPrevMonthClick(): void {\n        this.appendValueWithLimit({month: -1});\n    }\n\n    onNextMonthClick(): void {\n        this.appendValueWithLimit({month: 1});\n    }\n\n    private appendValueWithLimit(date: TuiMonthLike): void {\n        const newMonth: TuiMonth = this.value.append(date);\n        const {computedMin, computedMax} = this;\n\n        if (computedMin.monthSameOrAfter(newMonth)) {\n            this.updateValue(computedMin);\n\n            return;\n        }\n\n        this.updateValue(\n            computedMax.monthSameOrBefore(newMonth) ? computedMax : newMonth,\n        );\n    }\n\n    private updateValue(value: TuiMonth): void {\n        if (this.value.monthSame(value)) {\n            return;\n        }\n\n        this.value = value;\n        this.valueChange.emit(value);\n    }\n}\n","<tui-primitive-spin-button\n    [focusable]=\"false\"\n    [leftDisabled]=\"prevMonthDisabled\"\n    [rightDisabled]=\"nextMonthDisabled\"\n    (leftClick)=\"onPrevMonthClick()\"\n    (rightClick)=\"onNextMonthClick()\"\n>\n    {{ value | tuiMonth | async }}\n    <ng-container *ngIf=\"oneYear; else button\">\n        {{ value.formattedYear }}\n    </ng-container>\n    <ng-template #button>\n        <button\n            id=\"year-btn\"\n            automation-id=\"tui-primitive-year-month-pagination__year-button\"\n            tuiLink\n            type=\"button\"\n            [tuiFocusable]=\"false\"\n            (click)=\"onYearClick()\"\n        >\n            {{ value.formattedYear }}\n        </button>\n    </ng-template>\n</tui-primitive-spin-button>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiFocusableModule} from '@taiga-ui/cdk';\nimport {TuiLinkModule} from '@taiga-ui/core/components/link';\nimport {TuiPrimitiveSpinButtonModule} from '@taiga-ui/core/components/primitive-spin-button';\nimport {TuiMonthPipeModule} from '@taiga-ui/core/pipes';\n\nimport {TuiPrimitiveYearMonthPaginationComponent} from './primitive-year-month-pagination.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiFocusableModule,\n        TuiPrimitiveSpinButtonModule,\n        TuiLinkModule,\n        TuiMonthPipeModule,\n    ],\n    declarations: [TuiPrimitiveYearMonthPaginationComponent],\n    exports: [TuiPrimitiveYearMonthPaginationComponent],\n})\nexport class TuiPrimitiveYearMonthPaginationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["TuiMonth","TUI_FIRST_DAY","TUI_LAST_DAY","EventEmitter","i0","i1","i2","i3","i4","i5","Component","ChangeDetectionStrategy","Input","Output","CommonModule","TuiFocusableModule","TuiPrimitiveSpinButtonModule","TuiLinkModule","TuiMonthPipeModule","NgModule"],"mappings":"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"}