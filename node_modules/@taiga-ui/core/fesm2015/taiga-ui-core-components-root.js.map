{"version":3,"file":"taiga-ui-core-components-root.js","sources":["../../../projects/core/components/root/root.component.ts","../../../projects/core/components/root/root.template.html","../../../projects/core/components/root/root.module.ts","../../../projects/core/components/root/taiga-ui-core-components-root.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    Inject,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {\n    TUI_DIALOGS,\n    TUI_IS_ANDROID,\n    TUI_IS_IOS,\n    TUI_IS_MOBILE,\n    TUI_VERSION,\n} from '@taiga-ui/cdk';\nimport {TuiBreakpointService} from '@taiga-ui/core/services';\nimport {\n    TUI_ANIMATIONS_DURATION,\n    TUI_REDUCED_MOTION,\n    TUI_THEME,\n} from '@taiga-ui/core/tokens';\nimport {combineLatest, Observable, of} from 'rxjs';\nimport {debounceTime, map} from 'rxjs/operators';\n\n@Component({\n    selector: 'tui-root',\n    templateUrl: './root.template.html',\n    styleUrls: ['./root.style.less'],\n    encapsulation: ViewEncapsulation.None,\n    // So that we do not force OnPush on custom dialogs\n    // eslint-disable-next-line @angular-eslint/prefer-on-push-component-change-detection\n    changeDetection: ChangeDetectionStrategy.Default,\n    host: {\n        'data-tui-version': TUI_VERSION,\n        '[style.--tui-duration.ms]': 'duration',\n        '[class._ios]': 'isIOS',\n        '[class._android]': 'isAndroid',\n        '[class._reduced-motion]': 'reducedMotion',\n        // Required for the :active state to work in Safari. https://stackoverflow.com/a/33681490\n        '(touchstart.passive.silent)': '0',\n        '[$.class._mobile]': 'isMobileRes$',\n        '($.class._mobile)': 'isMobileRes$',\n    },\n})\nexport class TuiRootComponent {\n    readonly isMobileRes$ = this.breakpoint.pipe(\n        map(breakpoint => breakpoint === 'mobile'),\n    );\n\n    readonly scrollbars$: Observable<boolean> =\n        this.dialogs.length && !this.isMobile\n            ? combineLatest([...this.dialogs]).pipe(\n                  map(dialogs => !dialogs.some(({length}) => length)),\n                  debounceTime(0),\n              )\n            : of(!this.isMobile);\n\n    constructor(\n        @Inject(TUI_REDUCED_MOTION) readonly reducedMotion: boolean,\n        @Inject(TUI_ANIMATIONS_DURATION) readonly duration: number,\n        @Inject(TUI_DIALOGS)\n        readonly dialogs: ReadonlyArray<Observable<readonly unknown[]>>,\n        @Inject(TUI_IS_MOBILE) private readonly isMobile: boolean,\n        @Inject(TuiBreakpointService) private readonly breakpoint: TuiBreakpointService,\n        @Inject(TUI_IS_IOS) readonly isIOS: boolean,\n        @Inject(TUI_IS_ANDROID) readonly isAndroid: boolean,\n        @Inject(DOCUMENT) document: Document,\n        @Inject(TUI_THEME) theme: string,\n    ) {\n        document.defaultView?.document.body.setAttribute(\n            'data-tui-theme',\n            theme.toLowerCase(),\n        );\n    }\n}\n","<tui-scroll-controls\n    *ngIf=\"scrollbars$ | async\"\n    class=\"t-root-scrollbar\"\n></tui-scroll-controls>\n<tui-svg-defs-host></tui-svg-defs-host>\n<tui-dropdown-host>\n    <div class=\"t-root-content\">\n        <ng-content></ng-content>\n    </div>\n    <ng-content select=\"tuiOverContent\"></ng-content>\n    <tui-dialog-host></tui-dialog-host>\n    <ng-content select=\"tuiOverDialogs\"></ng-content>\n    <tui-alert-host></tui-alert-host>\n    <ng-content select=\"tuiOverAlerts\"></ng-content>\n</tui-dropdown-host>\n<!--TODO: 4.0 rename to tuiOverDropdowns-->\n<ng-content select=\"tuiOverPortals\"></ng-content>\n<tui-hints-host></tui-hints-host>\n<ng-content select=\"tuiOverHints\"></ng-content>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {\n    TuiAlertHostModule,\n    TuiDialogHostModule,\n    TuiDropdownHostModule,\n    TuiScrollControlsModule,\n} from '@taiga-ui/cdk';\nimport {TuiHintsHostModule} from '@taiga-ui/core/components/hints-host';\nimport {TuiSvgDefsHostModule} from '@taiga-ui/core/internal/svg-defs-host';\nimport {EventPluginsModule} from '@tinkoff/ng-event-plugins';\n\nimport {TuiRootComponent} from './root.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        EventPluginsModule,\n        TuiDropdownHostModule,\n        TuiSvgDefsHostModule,\n        TuiHintsHostModule,\n        TuiDialogHostModule,\n        TuiAlertHostModule,\n        TuiScrollControlsModule,\n    ],\n    declarations: [TuiRootComponent],\n    exports: [TuiRootComponent],\n})\nexport class TuiRootModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}