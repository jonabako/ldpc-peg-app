{"version":3,"file":"taiga-ui-addon-doc-services.js","sources":["../../../projects/addon-doc/services/theme.options.ts","../../../projects/addon-doc/services/theme.service.ts","../../../projects/addon-doc/services/theme-night.options.ts","../../../projects/addon-doc/services/theme-night.service.ts","../../../projects/addon-doc/services/taiga-ui-addon-doc-services.ts"],"sourcesContent":["import {tuiCreateToken} from '@taiga-ui/cdk';\n\nexport const TUI_THEME_STORAGE_DEFAULT_KEY = 'tuiTheme' as const;\nexport const TUI_THEME_DEFAULT_NAME = 'Taiga UI' as const;\nexport const TUI_THEME_STORAGE_KEY = tuiCreateToken<string>(\n    TUI_THEME_STORAGE_DEFAULT_KEY,\n);\nexport const TUI_THEME_NAME = tuiCreateToken<string>(TUI_THEME_DEFAULT_NAME);\n","import {Inject, Injectable} from '@angular/core';\nimport {LOCAL_STORAGE} from '@ng-web-apis/common';\nimport {BehaviorSubject} from 'rxjs';\n\nimport {\n    TUI_THEME_DEFAULT_NAME,\n    TUI_THEME_NAME,\n    TUI_THEME_STORAGE_KEY,\n} from './theme.options';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class TuiThemeService extends BehaviorSubject<string> {\n    constructor(\n        @Inject(TUI_THEME_NAME) readonly initialTheme: string,\n        @Inject(TUI_THEME_STORAGE_KEY) readonly key: string,\n        @Inject(LOCAL_STORAGE) private readonly storage: Storage,\n    ) {\n        super(storage.getItem(key) || initialTheme);\n    }\n\n    override next(theme: string): void {\n        this.storage.setItem(this.key, theme);\n        super.next(theme);\n    }\n\n    get isDefaultTheme(): boolean {\n        return this.value === TUI_THEME_DEFAULT_NAME;\n    }\n}\n","import {tuiCreateToken} from '@taiga-ui/cdk';\n\nexport const TUI_THEME_NIGHT_STORAGE_DEFAULT_KEY = 'tuiNight' as const;\nexport const TUI_THEME_NIGHT_STORAGE_KEY = tuiCreateToken<string>(\n    TUI_THEME_NIGHT_STORAGE_DEFAULT_KEY,\n);\nexport const TUI_USE_DEFAULT_NIGHT_THEME = tuiCreateToken(true);\n","import {Inject, Injectable} from '@angular/core';\nimport {LOCAL_STORAGE, WINDOW} from '@ng-web-apis/common';\nimport {BehaviorSubject} from 'rxjs';\n\nimport {\n    TUI_THEME_NIGHT_STORAGE_KEY,\n    TUI_USE_DEFAULT_NIGHT_THEME,\n} from './theme-night.options';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class TuiThemeNightService extends BehaviorSubject<boolean> {\n    constructor(\n        @Inject(WINDOW) readonly win: Window,\n        @Inject(LOCAL_STORAGE) readonly storage: Storage,\n        @Inject(TUI_THEME_NIGHT_STORAGE_KEY) readonly key: string,\n        @Inject(TUI_USE_DEFAULT_NIGHT_THEME) readonly useDefaultNightTheme: boolean,\n    ) {\n        super(\n            storage.getItem(key) === 'true' ||\n                (storage.getItem(key) === null &&\n                    win.matchMedia('(prefers-color-scheme: dark)').matches),\n        );\n    }\n\n    override next(night: boolean): void {\n        this.storage.setItem(this.key, String(night));\n        super.next(night);\n    }\n\n    toggle(): void {\n        this.next(!this.value);\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,6BAA6B,GAAG,WAAoB;AAC1D,MAAM,sBAAsB,GAAG,WAAoB;MAC7C,qBAAqB,GAAG,cAAc,CAC/C,6BAA6B,EAC/B;MACW,cAAc,GAAG,cAAc,CAAS,sBAAsB;;ACMrE,MAAO,eAAgB,SAAQ,eAAuB,CAAA;AACxD,IAAA,WAAA,CACqC,YAAoB,EACb,GAAW,EACX,OAAgB,EAAA;QAExD,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC,CAAC;QAJX,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAQ;QACb,IAAG,CAAA,GAAA,GAAH,GAAG,CAAQ;QACX,IAAO,CAAA,OAAA,GAAP,OAAO,CAAS;KAG3D;AAEQ,IAAA,IAAI,CAAC,KAAa,EAAA;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AACtC,QAAA,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACrB;AAED,IAAA,IAAI,cAAc,GAAA;AACd,QAAA,OAAO,IAAI,CAAC,KAAK,KAAK,sBAAsB,CAAC;KAChD;;AAhBQ,eAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,eAAe,EAEZ,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,cAAc,EACd,EAAA,EAAA,KAAA,EAAA,qBAAqB,aACrB,aAAa,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAJhB,eAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,eAAe,cAFZ,MAAM,EAAA,CAAA,CAAA;4FAET,eAAe,EAAA,UAAA,EAAA,CAAA;kBAH3B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,UAAU,EAAE,MAAM;AACrB,iBAAA,CAAA;;0BAGQ,MAAM;2BAAC,cAAc,CAAA;;0BACrB,MAAM;2BAAC,qBAAqB,CAAA;8BACoB,OAAO,EAAA,UAAA,EAAA,CAAA;0BAAvD,MAAM;2BAAC,aAAa,CAAA;;;ACftB,MAAM,mCAAmC,GAAG,WAAoB;MAC1D,2BAA2B,GAAG,cAAc,CACrD,mCAAmC,EACrC;MACW,2BAA2B,GAAG,cAAc,CAAC,IAAI;;ACMxD,MAAO,oBAAqB,SAAQ,eAAwB,CAAA;AAC9D,IAAA,WAAA,CAC6B,GAAW,EACJ,OAAgB,EACF,GAAW,EACX,oBAA6B,EAAA;QAE3E,KAAK,CACD,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,MAAM;AAC3B,aAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI;gBAC1B,GAAG,CAAC,UAAU,CAAC,8BAA8B,CAAC,CAAC,OAAO,CAAC,CAClE,CAAC;QATuB,IAAG,CAAA,GAAA,GAAH,GAAG,CAAQ;QACJ,IAAO,CAAA,OAAA,GAAP,OAAO,CAAS;QACF,IAAG,CAAA,GAAA,GAAH,GAAG,CAAQ;QACX,IAAoB,CAAA,oBAAA,GAApB,oBAAoB,CAAS;KAO9E;AAEQ,IAAA,IAAI,CAAC,KAAc,EAAA;AACxB,QAAA,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAC9C,QAAA,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACrB;IAED,MAAM,GAAA;QACF,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC1B;;AArBQ,oBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,kBAEjB,MAAM,EAAA,EAAA,EAAA,KAAA,EACN,aAAa,EACb,EAAA,EAAA,KAAA,EAAA,2BAA2B,aAC3B,2BAA2B,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAL9B,oBAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,cAFjB,MAAM,EAAA,CAAA,CAAA;4FAET,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAHhC,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,UAAU,EAAE,MAAM;AACrB,iBAAA,CAAA;0DAGqC,MAAM,EAAA,UAAA,EAAA,CAAA;0BAAnC,MAAM;2BAAC,MAAM,CAAA;8BAC2B,OAAO,EAAA,UAAA,EAAA,CAAA;0BAA/C,MAAM;2BAAC,aAAa,CAAA;;0BACpB,MAAM;2BAAC,2BAA2B,CAAA;;0BAClC,MAAM;2BAAC,2BAA2B,CAAA;;;ACjB3C;;AAEG;;;;"}