import { tuiIsPageGroup } from './is-page-group';
export function tuiSortPages(pages, excludeSections = new Set()) {
    const sections = Array.from(new Set(pages.map(page => page.section)));
    const sortedPages = pages.slice().sort((a, b) => {
        var _a, _b;
        if (excludeSections.has((_a = a.section) !== null && _a !== void 0 ? _a : '') ||
            excludeSections.has((_b = b.section) !== null && _b !== void 0 ? _b : '')) {
            return 0;
        }
        const aSectionIndex = sections.indexOf(a.section);
        const bSectionIndex = sections.indexOf(b.section);
        if (aSectionIndex !== bSectionIndex) {
            return aSectionIndex - bSectionIndex;
        }
        if (a.title > b.title) {
            return 1;
        }
        return a.title.localeCompare(b.title);
    });
    return sortedPages.map(page => tuiIsPageGroup(page)
        ? Object.assign(Object.assign({}, page), { subPages: tuiSortPages(page.subPages, excludeSections) }) : page);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ydC1wYWdlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FkZG9uLWRvYy91dGlscy9zb3J0LXBhZ2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxNQUFNLFVBQVUsWUFBWSxDQUN4QixLQUFtQixFQUNuQixrQkFBa0IsSUFBSSxHQUFHLEVBQVU7SUFFbkMsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUV0RSxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFOztRQUM1QyxJQUNJLGVBQWUsQ0FBQyxHQUFHLENBQUMsTUFBQSxDQUFDLENBQUMsT0FBTyxtQ0FBSSxFQUFFLENBQUM7WUFDcEMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxNQUFBLENBQUMsQ0FBQyxPQUFPLG1DQUFJLEVBQUUsQ0FBQyxFQUN0QztZQUNFLE9BQU8sQ0FBQyxDQUFDO1NBQ1o7UUFFRCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsRCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVsRCxJQUFJLGFBQWEsS0FBSyxhQUFhLEVBQUU7WUFDakMsT0FBTyxhQUFhLEdBQUcsYUFBYSxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDbkIsT0FBTyxDQUFDLENBQUM7U0FDWjtRQUVELE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQzFCLGNBQWMsQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQyxpQ0FDUSxJQUFJLEtBQ1AsUUFBUSxFQUFFLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxJQUU1RCxDQUFDLENBQUMsSUFBSSxDQUNiLENBQUM7QUFDTixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtUdWlEb2NQYWdlLCBUdWlEb2NQYWdlR3JvdXB9IGZyb20gJ0B0YWlnYS11aS9hZGRvbi1kb2MvaW50ZXJmYWNlcyc7XG5cbmltcG9ydCB7dHVpSXNQYWdlR3JvdXB9IGZyb20gJy4vaXMtcGFnZS1ncm91cCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0dWlTb3J0UGFnZXM8VCBleHRlbmRzIFR1aURvY1BhZ2UgfCBUdWlEb2NQYWdlR3JvdXA+KFxuICAgIHBhZ2VzOiByZWFkb25seSBUW10sXG4gICAgZXhjbHVkZVNlY3Rpb25zID0gbmV3IFNldDxzdHJpbmc+KCksXG4pOiByZWFkb25seSBUW10ge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShuZXcgU2V0KHBhZ2VzLm1hcChwYWdlID0+IHBhZ2Uuc2VjdGlvbikpKTtcblxuICAgIGNvbnN0IHNvcnRlZFBhZ2VzID0gcGFnZXMuc2xpY2UoKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGV4Y2x1ZGVTZWN0aW9ucy5oYXMoYS5zZWN0aW9uID8/ICcnKSB8fFxuICAgICAgICAgICAgZXhjbHVkZVNlY3Rpb25zLmhhcyhiLnNlY3Rpb24gPz8gJycpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhU2VjdGlvbkluZGV4ID0gc2VjdGlvbnMuaW5kZXhPZihhLnNlY3Rpb24pO1xuICAgICAgICBjb25zdCBiU2VjdGlvbkluZGV4ID0gc2VjdGlvbnMuaW5kZXhPZihiLnNlY3Rpb24pO1xuXG4gICAgICAgIGlmIChhU2VjdGlvbkluZGV4ICE9PSBiU2VjdGlvbkluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gYVNlY3Rpb25JbmRleCAtIGJTZWN0aW9uSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS50aXRsZSA+IGIudGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGEudGl0bGUubG9jYWxlQ29tcGFyZShiLnRpdGxlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzb3J0ZWRQYWdlcy5tYXAocGFnZSA9PlxuICAgICAgICB0dWlJc1BhZ2VHcm91cChwYWdlKVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAuLi5wYWdlLFxuICAgICAgICAgICAgICAgICAgc3ViUGFnZXM6IHR1aVNvcnRQYWdlcyhwYWdlLnN1YlBhZ2VzLCBleGNsdWRlU2VjdGlvbnMpLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHBhZ2UsXG4gICAgKTtcbn1cbiJdfQ==