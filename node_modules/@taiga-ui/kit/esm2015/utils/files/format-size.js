import { tuiRound } from '@taiga-ui/cdk';
const BYTES_PER_KIB = 1024;
const BYTES_PER_MIB = 1024 * BYTES_PER_KIB;
export function tuiFormatSize(units, size) {
    if (size === undefined) {
        return null;
    }
    if (size < BYTES_PER_KIB) {
        return `${size} ${units[0]}`;
    }
    if (size < BYTES_PER_MIB) {
        return `${(size / BYTES_PER_KIB).toFixed(0)} ${units[1]}`;
    }
    return `${tuiRound(size / BYTES_PER_MIB, 2).toLocaleString('ru-RU')} ${units[2]}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LXNpemUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9raXQvdXRpbHMvZmlsZXMvZm9ybWF0LXNpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUV2QyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDM0IsTUFBTSxhQUFhLEdBQUcsSUFBSSxHQUFHLGFBQWEsQ0FBQztBQUUzQyxNQUFNLFVBQVUsYUFBYSxDQUN6QixLQUErQixFQUMvQixJQUFhO0lBRWIsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFFRCxJQUFJLElBQUksR0FBRyxhQUFhLEVBQUU7UUFDdEIsT0FBTyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztLQUNoQztJQUVELElBQUksSUFBSSxHQUFHLGFBQWEsRUFBRTtRQUN0QixPQUFPLEdBQUcsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0tBQzdEO0lBRUQsT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEdBQUcsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUN0RixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0dWlSb3VuZH0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5cbmNvbnN0IEJZVEVTX1BFUl9LSUIgPSAxMDI0O1xuY29uc3QgQllURVNfUEVSX01JQiA9IDEwMjQgKiBCWVRFU19QRVJfS0lCO1xuXG5leHBvcnQgZnVuY3Rpb24gdHVpRm9ybWF0U2l6ZShcbiAgICB1bml0czogW3N0cmluZywgc3RyaW5nLCBzdHJpbmddLFxuICAgIHNpemU/OiBudW1iZXIsXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChzaXplIDwgQllURVNfUEVSX0tJQikge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gJHt1bml0c1swXX1gO1xuICAgIH1cblxuICAgIGlmIChzaXplIDwgQllURVNfUEVSX01JQikge1xuICAgICAgICByZXR1cm4gYCR7KHNpemUgLyBCWVRFU19QRVJfS0lCKS50b0ZpeGVkKDApfSAke3VuaXRzWzFdfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3R1aVJvdW5kKHNpemUgLyBCWVRFU19QRVJfTUlCLCAyKS50b0xvY2FsZVN0cmluZygncnUtUlUnKX0gJHt1bml0c1syXX1gO1xufVxuIl19